<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Сумування частот в протифазі</title>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <h1>Сумування двох хвиль в протифазі</h1>
    <label for="freq1">Частота 1 (Гц): </label>
    <input type="number" id="freq1" value="1" step="0.1">
    <br>
    <label for="freq2">Частота 2 (Гц): </label>
    <input type="number" id="freq2" value="1" step="0.1">
    <br>
    <button id="update">Оновити</button>
    <br><br>
    <canvas id="canvas" width="800" height="400"></canvas>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const freq1Input = document.getElementById('freq1');
        const freq2Input = document.getElementById('freq2');
        const updateButton = document.getElementById('update');

        const width = canvas.width;
        const height = canvas.height;
        const amplitude = 100;
        const centerY = height / 2;
        const samples = 2000; // Чим більше, тим плавніше

        let freq1 = parseFloat(freq1Input.value);
        let freq2 = parseFloat(freq2Input.value);

        // Функція для побудови графіків
        function draw() {
            ctx.clearRect(0, 0, width, height); // Очищаємо канву

            const data1 = [];
            const data2 = [];
            const resultData = [];
            const step = width / samples;

            for (let i = 0; i < samples; i++) {
                const t = i * step / width;
                const y1 = amplitude * Math.sin(2 * Math.PI * freq1 * t);
                const y2 = amplitude * Math.sin(2 * Math.PI * freq2 * t + Math.PI); // Противофаза (фаза +π)
                const result = y1 + y2;

                data1.push(y1);
                data2.push(y2);
                resultData.push(result);
            }

            // Малюємо першу хвилю (синя)
            ctx.beginPath();
            ctx.moveTo(0, centerY - data1[0]);
            for (let i = 1; i < data1.length; i++) {
                ctx.lineTo(i * step, centerY - data1[i]);
            }
            ctx.strokeStyle = 'blue';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Малюємо другу хвилю (зелена)
            ctx.beginPath();
            ctx.moveTo(0, centerY - data2[0]);
            for (let i = 1; i < data2.length; i++) {
                ctx.lineTo(i * step, centerY - data2[i]);
            }
            ctx.strokeStyle = 'green';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Малюємо сумарну хвилю (червона)
            ctx.beginPath();
            ctx.moveTo(0, centerY - resultData[0]);
            for (let i = 1; i < resultData.length; i++) {
                ctx.lineTo(i * step, centerY - resultData[i]);
            }
            ctx.strokeStyle = 'red';
            ctx.lineWidth = 2;
            ctx.stroke();
        }

        // Оновлення графіка при зміні частот
        updateButton.addEventListener('click', () => {
            freq1 = parseFloat(freq1Input.value);
            freq2 = parseFloat(freq2Input.value);
            draw();
        });

        // Малюємо початковий графік
        draw();
    </script>
</body>
</html>
